# Settings for Backend (on Cloud Run).
# See https://firebase.google.com/docs/app-hosting/configure#cloud-run
runConfig:
  minInstances: 0
  # maxInstances: 100
  # concurrency: 80
  # cpu: 1
  # memoryMiB: 512

# Environment variables and secrets.
env:
  # --- Required for AI Features ---
  # You must create this secret in Google Secret Manager.
  - variable: GEMINI_API_KEY
    secret: GEMINI_API_KEY
    availability:
      - RUNTIME

  # --- Required for Shopify Integration ---
  # You must create these secrets in Google Secret Manager.
  - variable: SHOPIFY_API_KEY
    secret: SHOPIFY_API_KEY
    availability:
      - RUNTIME
  - variable: SHOPIFY_API_SECRET_KEY
    secret: SHOPIFY_API_SECRET_KEY
    availability:
      - RUNTIME
  - variable: SHOPIFY_APP_SCOPES
    value: "read_products, read_themes, write_themes"
    availability:
      - RUNTIME
  - variable: NEXT_PUBLIC_APP_URL
    value: "YOUR_DEPLOYED_APP_URL" # <-- REPLACE THIS with your actual app URL (e.g., https://myapp-123.web.app)
    availability:
      - RUNTIME

  # --- Optional for Password Protection ---
  # - variable: APP_ACCESS_PASSWORD
  #   secret: APP_ACCESS_PASSWORD
  #   availability:
  #     - RUNTIME
  # - variable: APP_ACCESS_COOKIE_VALUE
  #   secret: APP_ACCESS_COOKIE_VALUE
  #   availability:
  #     - RUNTIME
